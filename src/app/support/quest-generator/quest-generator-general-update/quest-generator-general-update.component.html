<p-dialog header="General Information" [modal]="true" [(visible)]="visible" [style]="{ 'max-width': '30rem' }">
  <form [formGroup]="generalUpdateForm" (submit)="updateQuest()">
    <!-- Language Selection -->
    <div class="d-flex justify-content-center pt-2">
      <div class="form-group pb-3">
        <div [class]="'btn ' + (selectedLanguage == 'DE' ? 'disabled btn-outline-light' : 'btn-outline-secondary')" (click)="switchLanguage('DE')">DE</div>
        <div [class]="'btn ' + (selectedLanguage == 'EN' ? 'disabled btn-outline-light' : 'btn-outline-secondary')" (click)="switchLanguage('EN')">EN</div>
      </div>
    </div>

    <!-- Name -->
    <div class="d-flex justify-content-center pt-2">
      <div class="form-group pb-3">
        <label class="form-label"><i class="bi bi-text-paragraph"></i> Name ({{ selectedLanguage }})</label><br>
        <input type="text" name="name" class="form-control" formControlName="nameDe" [class]="'p-element p-inputwrapper p-inputtext ' + 'd-' + (selectedLanguage == 'DE' ? 'inline' : 'none')" [style]="{ 'min-width': '250px'}" />
        <input type="text" name="name" class="form-control" formControlName="nameEn" [class]="'p-element p-inputwrapper p-inputtext ' + 'd-' + (selectedLanguage == 'EN' ? 'inline' : 'none')" [style]="{ 'min-width': '250px'}" />
      </div>
    </div>

    <!-- Notification  -->
    <div class="d-flex justify-content-center pt-2">
      <div class="form-group pb-3" >
        <label class="form-label"><i class="bi bi-journal-plus"></i> Notification ({{ selectedLanguage }}) <i class="bi bi-question-circle-fill mx-1 h5" ngbTooltip="Markdown can be used for formatting."></i></label>
      </div>
    </div>
    <div class="d-flex justify-content-center pt-2">
      <div class="form-group pb-3" [class]="'d-' + (selectedLanguage == 'DE' ? 'inline' : 'none')">
        <textarea rows="8"cols="28" pInputTextarea name="notificationDe" formControlName="notificationDe"
        class="p-element p-inputwrapper p-inputtext" maxlength="500"></textarea>
      </div>
      <div class="form-group pb-3" [class]="'d-' + (selectedLanguage == 'EN' ? 'inline' : 'none')">
        <textarea rows="8"cols="28" pInputTextarea name="notificationEn" formControlName="notificationEn"
        class="p-element p-inputwrapper p-inputtext" maxlength="500"></textarea>
      </div>
    </div>

    <!-- Preview -->
    <div class="d-flex justify-content-center pt-2">
      <label class="form-label"><i class="bi bi-camera-fill"></i> Preview ({{ selectedLanguage }}) <i class="bi bi-question-circle-fill mx-1 h5" ngbTooltip="Styles can be a bit different in Universe Dawn, be aware of that."></i></label><br>
    </div>
    <div class="d-flex justify-content-center pt-1">
        <markdown ngPreserveWhitespaces class="sr-markdown"
          [data]="(selectedLanguage == 'DE' ? generalUpdateForm.value.notificationDe : generalUpdateForm.value.notificationEn)">
        </markdown>
    </div>

    <p-divider />

    <!-- Submit -->
    <div class="d-flex justify-content-center pt-2">
      <input type="submit" [value]="isAdd ? 'Add Quest' : 'Update Quest'" class="btn btn-outline-light" [disabled]="!generalUpdateForm.valid">
    </div>
  </form>
</p-dialog>
